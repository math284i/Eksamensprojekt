<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.1" />
<title>logic API documentation</title>
<meta name="description" content="" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>logic</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from pages.databaseHandler import DBFunctions
from kivy.animation import Animation
#from kivy.garden.mapView import MapMarker
from kivy.garden.mapview import MapMarker

class Logic():
    &#34;&#34;&#34;Creating init function, where we can declare the otherr class, this class will be pulling from&#34;&#34;&#34;
    def __init__(self, parent=None):
        self.DBFunctions = DBFunctions(self)
        self.MyApp = parent


    def FotoVognSpotted(self, lat, lon): #takes 2 argument, the gps koods
        &#34;&#34;&#34;What should it be doing?

        1) Call Database with lat and lon, check if they are already there

            If they aren&#39;t there, call add function from DBFunctions, which will add them, with the standards values
            break

            If they are in database, check how many times its been visited, then  add 1

        2) If we dident break in 1), we check if the kods.active(its a bool)

            if kods.active
                :return

            if not, check if kods.visited is higher than the minimum required (its a varialbe)

            if it is higher, then change bool to true

            if not
                return
        &#34;&#34;&#34;

        &#34;&#34;&#34;Koordinat system, it contains lat + a seperater,
         which we decides to be H + lon, and &#34;.&#34; is replaced with &#34;X&#34; &#34;&#34;&#34;

        lat = str(round(lat, 3))
        lon = str(round(lon, 3))

        koods = lat + &#34;H&#34; + lon
        print(koods)

        &#34;&#34;&#34;We need to remove &#34;.&#34; because we cant use special characters, for database name, so we use x instead,
         also we needed to indicate where lat and lon is, when he re pull the koods&#34;&#34;&#34;
        koods = koods.replace(&#34;.&#34;, &#34;X&#34;)
        print(&#34;new koods: &#34; + str(koods))
        self.DBFunctions.add(koods)

    &#34;&#34;&#34;&#39;decoding&#39; the system we made earlier, from koords to lat and lon&#34;&#34;&#34;
    def getLatLon(self, koords):
        koords = koords.replace(&#34;X&#34;, &#34;.&#34;).replace(&#34;H&#34;, &#34; &#34;)
        lat, lon = koords.split(&#34; &#34;)
        return lat, lon

    &#34;&#34;&#34;Placing all photovagens all ready in db at startup&#34;&#34;&#34;
    def PlaceFotoVogn(self):
        &#34;&#34;&#34;What should it be doing?

        1) pull all Kods from database, using DBFunctions.get_all()

        2) check if kods.active (bool)

        3) if its active, it should be added to the mapview

        &#34;&#34;&#34;

        self.ALL = self.DBFunctions.get_all()
        for i in self.ALL:
            active = self.ALL[i].pop(&#39;active&#39;)
            if active == 1:
                self.latVogn, self.lonVogn = self.getLatLon(i)
                self.foto = MapMarker(lat=self.latVogn, lon=self.lonVogn)
                self.MyApp.mapview.add_marker(self.foto)

    &#34;&#34;&#34;Its called, if a koord gets active, so we should place marker and animate our alert button&#34;&#34;&#34;
    def Alert(self, ActiveKods):
        &#34;&#34;&#34;Now by using the system we implemented earlier we can call
         system with the kods and get lat and lon returned&#34;&#34;&#34;
        self.latAlert, self.lonAlert = self.getLatLon(ActiveKods)

        &#34;&#34;&#34;Since our Placefotovogn only runs at initialization,
         and there is no point in trying to place every marker again, we can just place it here&#34;&#34;&#34;
        self.foto = MapMarker(lat=self.latAlert, lon=self.lonAlert)
        self.MyApp.mapview.add_marker(self.foto)

        &#34;&#34;&#34;Now lets alert the user&#34;&#34;&#34;
        self.anmiate_the_button(self.MyApp.buttonAlert)

    &#34;&#34;&#34;Creating our function, for animating our alert button&#34;&#34;&#34;
    def anmiate_the_button(self, widget, *args):

        anim = Animation(background_color=self.MyApp.Lightred)
        &#34;&#34;&#34;7 is the duration of Alert, opacity means if we can see it, duration, if its instant or faded&#34;&#34;&#34;
        for i in range(7): #Duration of Alert
            anim += Animation(opacity=1, duration=.5)
            anim += Animation(opacity=0.2, duration=.5)
        anim += Animation(opacity=0, duration=.2)
        anim += Animation(background_color=self.MyApp.Lightred)
        anim.start(widget)

    &#34;&#34;&#34;Function, to move the map around, according to gps koords&#34;&#34;&#34;
    def moveMap(self, newLat, newLon):
        self.lat = newLat
        self.lon = newLon

        self.MyApp.mapview.center_on(self.lat, self.lon)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="logic.Logic"><code class="flex name class">
<span>class <span class="ident">Logic</span></span>
<span>(</span><span>parent=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Creating init function, where we can declare the otherr class, this class will be pulling from</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Logic():
    &#34;&#34;&#34;Creating init function, where we can declare the otherr class, this class will be pulling from&#34;&#34;&#34;
    def __init__(self, parent=None):
        self.DBFunctions = DBFunctions(self)
        self.MyApp = parent


    def FotoVognSpotted(self, lat, lon): #takes 2 argument, the gps koods
        &#34;&#34;&#34;What should it be doing?

        1) Call Database with lat and lon, check if they are already there

            If they aren&#39;t there, call add function from DBFunctions, which will add them, with the standards values
            break

            If they are in database, check how many times its been visited, then  add 1

        2) If we dident break in 1), we check if the kods.active(its a bool)

            if kods.active
                :return

            if not, check if kods.visited is higher than the minimum required (its a varialbe)

            if it is higher, then change bool to true

            if not
                return
        &#34;&#34;&#34;

        &#34;&#34;&#34;Koordinat system, it contains lat + a seperater,
         which we decides to be H + lon, and &#34;.&#34; is replaced with &#34;X&#34; &#34;&#34;&#34;

        lat = str(round(lat, 3))
        lon = str(round(lon, 3))

        koods = lat + &#34;H&#34; + lon
        print(koods)

        &#34;&#34;&#34;We need to remove &#34;.&#34; because we cant use special characters, for database name, so we use x instead,
         also we needed to indicate where lat and lon is, when he re pull the koods&#34;&#34;&#34;
        koods = koods.replace(&#34;.&#34;, &#34;X&#34;)
        print(&#34;new koods: &#34; + str(koods))
        self.DBFunctions.add(koods)

    &#34;&#34;&#34;&#39;decoding&#39; the system we made earlier, from koords to lat and lon&#34;&#34;&#34;
    def getLatLon(self, koords):
        koords = koords.replace(&#34;X&#34;, &#34;.&#34;).replace(&#34;H&#34;, &#34; &#34;)
        lat, lon = koords.split(&#34; &#34;)
        return lat, lon

    &#34;&#34;&#34;Placing all photovagens all ready in db at startup&#34;&#34;&#34;
    def PlaceFotoVogn(self):
        &#34;&#34;&#34;What should it be doing?

        1) pull all Kods from database, using DBFunctions.get_all()

        2) check if kods.active (bool)

        3) if its active, it should be added to the mapview

        &#34;&#34;&#34;

        self.ALL = self.DBFunctions.get_all()
        for i in self.ALL:
            active = self.ALL[i].pop(&#39;active&#39;)
            if active == 1:
                self.latVogn, self.lonVogn = self.getLatLon(i)
                self.foto = MapMarker(lat=self.latVogn, lon=self.lonVogn)
                self.MyApp.mapview.add_marker(self.foto)

    &#34;&#34;&#34;Its called, if a koord gets active, so we should place marker and animate our alert button&#34;&#34;&#34;
    def Alert(self, ActiveKods):
        &#34;&#34;&#34;Now by using the system we implemented earlier we can call
         system with the kods and get lat and lon returned&#34;&#34;&#34;
        self.latAlert, self.lonAlert = self.getLatLon(ActiveKods)

        &#34;&#34;&#34;Since our Placefotovogn only runs at initialization,
         and there is no point in trying to place every marker again, we can just place it here&#34;&#34;&#34;
        self.foto = MapMarker(lat=self.latAlert, lon=self.lonAlert)
        self.MyApp.mapview.add_marker(self.foto)

        &#34;&#34;&#34;Now lets alert the user&#34;&#34;&#34;
        self.anmiate_the_button(self.MyApp.buttonAlert)

    &#34;&#34;&#34;Creating our function, for animating our alert button&#34;&#34;&#34;
    def anmiate_the_button(self, widget, *args):

        anim = Animation(background_color=self.MyApp.Lightred)
        &#34;&#34;&#34;7 is the duration of Alert, opacity means if we can see it, duration, if its instant or faded&#34;&#34;&#34;
        for i in range(7): #Duration of Alert
            anim += Animation(opacity=1, duration=.5)
            anim += Animation(opacity=0.2, duration=.5)
        anim += Animation(opacity=0, duration=.2)
        anim += Animation(background_color=self.MyApp.Lightred)
        anim.start(widget)

    &#34;&#34;&#34;Function, to move the map around, according to gps koords&#34;&#34;&#34;
    def moveMap(self, newLat, newLon):
        self.lat = newLat
        self.lon = newLon

        self.MyApp.mapview.center_on(self.lat, self.lon)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="logic.Logic.Alert"><code class="name flex">
<span>def <span class="ident">Alert</span></span>(<span>self, ActiveKods)</span>
</code></dt>
<dd>
<div class="desc"><p>Now by using the system we implemented earlier we can call
system with the kods and get lat and lon returned</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Alert(self, ActiveKods):
    &#34;&#34;&#34;Now by using the system we implemented earlier we can call
     system with the kods and get lat and lon returned&#34;&#34;&#34;
    self.latAlert, self.lonAlert = self.getLatLon(ActiveKods)

    &#34;&#34;&#34;Since our Placefotovogn only runs at initialization,
     and there is no point in trying to place every marker again, we can just place it here&#34;&#34;&#34;
    self.foto = MapMarker(lat=self.latAlert, lon=self.lonAlert)
    self.MyApp.mapview.add_marker(self.foto)

    &#34;&#34;&#34;Now lets alert the user&#34;&#34;&#34;
    self.anmiate_the_button(self.MyApp.buttonAlert)</code></pre>
</details>
</dd>
<dt id="logic.Logic.FotoVognSpotted"><code class="name flex">
<span>def <span class="ident">FotoVognSpotted</span></span>(<span>self, lat, lon)</span>
</code></dt>
<dd>
<div class="desc"><p>What should it be doing?</p>
<p>1) Call Database with lat and lon, check if they are already there</p>
<pre><code>If they aren't there, call add function from DBFunctions, which will add them, with the standards values
break

If they are in database, check how many times its been visited, then  add 1
</code></pre>
<p>2) If we dident break in 1), we check if the kods.active(its a bool)</p>
<pre><code>if kods.active
    :return

if not, check if kods.visited is higher than the minimum required (its a varialbe)

if it is higher, then change bool to true

if not
    return
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def FotoVognSpotted(self, lat, lon): #takes 2 argument, the gps koods
    &#34;&#34;&#34;What should it be doing?

    1) Call Database with lat and lon, check if they are already there

        If they aren&#39;t there, call add function from DBFunctions, which will add them, with the standards values
        break

        If they are in database, check how many times its been visited, then  add 1

    2) If we dident break in 1), we check if the kods.active(its a bool)

        if kods.active
            :return

        if not, check if kods.visited is higher than the minimum required (its a varialbe)

        if it is higher, then change bool to true

        if not
            return
    &#34;&#34;&#34;

    &#34;&#34;&#34;Koordinat system, it contains lat + a seperater,
     which we decides to be H + lon, and &#34;.&#34; is replaced with &#34;X&#34; &#34;&#34;&#34;

    lat = str(round(lat, 3))
    lon = str(round(lon, 3))

    koods = lat + &#34;H&#34; + lon
    print(koods)

    &#34;&#34;&#34;We need to remove &#34;.&#34; because we cant use special characters, for database name, so we use x instead,
     also we needed to indicate where lat and lon is, when he re pull the koods&#34;&#34;&#34;
    koods = koods.replace(&#34;.&#34;, &#34;X&#34;)
    print(&#34;new koods: &#34; + str(koods))
    self.DBFunctions.add(koods)</code></pre>
</details>
</dd>
<dt id="logic.Logic.PlaceFotoVogn"><code class="name flex">
<span>def <span class="ident">PlaceFotoVogn</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>What should it be doing?</p>
<p>1) pull all Kods from database, using DBFunctions.get_all()</p>
<p>2) check if kods.active (bool)</p>
<p>3) if its active, it should be added to the mapview</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def PlaceFotoVogn(self):
    &#34;&#34;&#34;What should it be doing?

    1) pull all Kods from database, using DBFunctions.get_all()

    2) check if kods.active (bool)

    3) if its active, it should be added to the mapview

    &#34;&#34;&#34;

    self.ALL = self.DBFunctions.get_all()
    for i in self.ALL:
        active = self.ALL[i].pop(&#39;active&#39;)
        if active == 1:
            self.latVogn, self.lonVogn = self.getLatLon(i)
            self.foto = MapMarker(lat=self.latVogn, lon=self.lonVogn)
            self.MyApp.mapview.add_marker(self.foto)</code></pre>
</details>
</dd>
<dt id="logic.Logic.anmiate_the_button"><code class="name flex">
<span>def <span class="ident">anmiate_the_button</span></span>(<span>self, widget, *args)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def anmiate_the_button(self, widget, *args):

    anim = Animation(background_color=self.MyApp.Lightred)
    &#34;&#34;&#34;7 is the duration of Alert, opacity means if we can see it, duration, if its instant or faded&#34;&#34;&#34;
    for i in range(7): #Duration of Alert
        anim += Animation(opacity=1, duration=.5)
        anim += Animation(opacity=0.2, duration=.5)
    anim += Animation(opacity=0, duration=.2)
    anim += Animation(background_color=self.MyApp.Lightred)
    anim.start(widget)</code></pre>
</details>
</dd>
<dt id="logic.Logic.getLatLon"><code class="name flex">
<span>def <span class="ident">getLatLon</span></span>(<span>self, koords)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def getLatLon(self, koords):
    koords = koords.replace(&#34;X&#34;, &#34;.&#34;).replace(&#34;H&#34;, &#34; &#34;)
    lat, lon = koords.split(&#34; &#34;)
    return lat, lon</code></pre>
</details>
</dd>
<dt id="logic.Logic.moveMap"><code class="name flex">
<span>def <span class="ident">moveMap</span></span>(<span>self, newLat, newLon)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def moveMap(self, newLat, newLon):
    self.lat = newLat
    self.lon = newLon

    self.MyApp.mapview.center_on(self.lat, self.lon)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="logic.Logic" href="#logic.Logic">Logic</a></code></h4>
<ul class="two-column">
<li><code><a title="logic.Logic.Alert" href="#logic.Logic.Alert">Alert</a></code></li>
<li><code><a title="logic.Logic.FotoVognSpotted" href="#logic.Logic.FotoVognSpotted">FotoVognSpotted</a></code></li>
<li><code><a title="logic.Logic.PlaceFotoVogn" href="#logic.Logic.PlaceFotoVogn">PlaceFotoVogn</a></code></li>
<li><code><a title="logic.Logic.anmiate_the_button" href="#logic.Logic.anmiate_the_button">anmiate_the_button</a></code></li>
<li><code><a title="logic.Logic.getLatLon" href="#logic.Logic.getLatLon">getLatLon</a></code></li>
<li><code><a title="logic.Logic.moveMap" href="#logic.Logic.moveMap">moveMap</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.1</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>